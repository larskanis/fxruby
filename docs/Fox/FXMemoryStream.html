<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Fox::FXMemoryStream
  
    &mdash; FXRuby API Documentation
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Fox::FXMemoryStream";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Fox.html" title="Fox (module)">Fox</a></span></span>
     &raquo; 
    <span class="title">FXMemoryStream</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Fox::FXMemoryStream
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="FXStream.html" title="Fox::FXStream (class)">FXStream</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="FXStream.html" title="Fox::FXStream (class)">FXStream</a></span></li>
          
            <li class="next">Fox::FXMemoryStream</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>rdoc-sources/FXMemoryStream.rb<span class="defines">,<br />
  lib/fox16/iterators.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A FXMemoryStream is a stream that reads from (or writes to) a buffer of bytes in memory. That buffer may “owned” by either the application code or by the stream object itself. In the latter case, the stream object will dispose of the buffer contents when the stream is closed.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#position-instance_method" title="#position (instance method)">#<strong>position</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute position.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="FXStream.html" title="Fox::FXStream (class)">FXStream</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="FXStream.html#container-instance_method" title="Fox::FXStream#container (method)">#container</a></span>, <span class='object_link'><a href="FXStream.html#direction-instance_method" title="Fox::FXStream#direction (method)">#direction</a></span>, <span class='object_link'><a href="FXStream.html#space-instance_method" title="Fox::FXStream#space (method)">#space</a></span>, <span class='object_link'><a href="FXStream.html#status-instance_method" title="Fox::FXStream#status (method)">#status</a></span></p>


  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open-class_method" title="open (class method)">.<strong>open</strong>(save_or_load, data, cont = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Construct a new FXMemoryStream object with the specified data flow direction, data and container object.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#giveBuffer-instance_method" title="#giveBuffer (instance method)">#<strong>giveBuffer</strong>(buffer)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Give buffer (a string) to this stream, thus transferring ownership of the buffer from the caller to the stream object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(cont = nil)  &#x21d2; FXMemoryStream </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Construct a new memory stream with given container object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open-instance_method" title="#open (instance method)">#<strong>open</strong>(save_or_load, data)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Open memory stream for reading or writing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#takeBuffer-instance_method" title="#takeBuffer (instance method)">#<strong>takeBuffer</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Take buffer away from stream, thus transferring ownership of the buffer from the stream object to the caller.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="FXStream.html" title="Fox::FXStream (class)">FXStream</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="FXStream.html#bigEndian=-instance_method" title="Fox::FXStream#bigEndian= (method)">#bigEndian=</a></span>, <span class='object_link'><a href="FXStream.html#bigEndian%3F-instance_method" title="Fox::FXStream#bigEndian? (method)">#bigEndian?</a></span>, <span class='object_link'><a href="FXStream.html#bytesSwapped=-instance_method" title="Fox::FXStream#bytesSwapped= (method)">#bytesSwapped=</a></span>, <span class='object_link'><a href="FXStream.html#bytesSwapped%3F-instance_method" title="Fox::FXStream#bytesSwapped? (method)">#bytesSwapped?</a></span>, <span class='object_link'><a href="FXStream.html#close-instance_method" title="Fox::FXStream#close (method)">#close</a></span>, <span class='object_link'><a href="FXStream.html#eof%3F-instance_method" title="Fox::FXStream#eof? (method)">#eof?</a></span>, <span class='object_link'><a href="FXStream.html#error=-instance_method" title="Fox::FXStream#error= (method)">#error=</a></span>, <span class='object_link'><a href="FXStream.html#flush-instance_method" title="Fox::FXStream#flush (method)">#flush</a></span>, <span class='object_link'><a href="FXStream.html#getSpace-instance_method" title="Fox::FXStream#getSpace (method)">#getSpace</a></span>, <span class='object_link'><a href="FXStream.html#setSpace-instance_method" title="Fox::FXStream#setSpace (method)">#setSpace</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(cont = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="Fox::FXMemoryStream (class)">FXMemoryStream</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Construct a new memory stream with given container object. The container object is an object that will itself not be saved to or loaded from the stream, but which may be referenced by other objects. These references will be properly saved and restored.</p>

<h4 id="label-Parameters-3A">Parameters:</h4>
<dl class="rdoc-list note-list"><dt><code>cont</code>
<dd>
<p>the container object, or <code>nil</code> if there is none <span class='object_link'><a href="FXObject.html" title="Fox::FXObject (class)">Fox::FXObject</a></span>.</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rdoc-sources/FXMemoryStream.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cont'>cont</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='comment'># :yields: theMemoryStream
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="position-instance_method">
  
    #<strong>position</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute position.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rdoc-sources/FXMemoryStream.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_position'>position</span>
  <span class='ivar'>@position</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="open-class_method">
  
    .<strong>open</strong>(save_or_load, data, cont = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Construct a new FXMemoryStream object with the specified data flow direction, data and container object. If an optional code block is given, it will be passed this memory stream as an argument, and the memory stream will automatically be closed when the block terminates. If no code block is provided, this method just returns the new memory stream in an opened state.</p>

<p>Raises FXStreamAllocError if some kind of memory allocation failed while initializing the stream.</p>

<h4 id="label-Parameters-3A">Parameters:</h4>

<p><code>save_or_load</code>::	access mode, either <code>FXStreamSave</code> or <code>FXStreamLoad</code> [Integer] <code>data</code>::		memory buffer used for the stream, or <code>nil</code> if the buffer is to be initially empty [String]. <code>cont</code>::		the container object, or <code>nil</code> if there is none [FXObject]</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fox16/iterators.rb', line 321</span>

<span class='kw'>def</span> <span class='const'><span class='object_link'><a href="" title="Fox::FXMemoryStream (class)">FXMemoryStream</a></span></span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_save_or_load'>save_or_load</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='id identifier rubyid_cont'>cont</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='comment'># :yields: theMemoryStream
</span>  <span class='id identifier rubyid_stream'>stream</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Fox::FXMemoryStream (class)">FXMemoryStream</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Fox::FXMemoryStream#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_cont'>cont</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_save_or_load'>save_or_load</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  	<span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  	  <span class='kw'>begin</span>
  	    <span class='kw'>yield</span> <span class='id identifier rubyid_stream'>stream</span>
  	  <span class='kw'>ensure</span>
  	    <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
  	  <span class='kw'>end</span>
  	<span class='kw'>else</span>
  	  <span class='id identifier rubyid_stream'>stream</span>
  	<span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='comment'># FXFileStream#open returned false, so report error
</span>  	<span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="FXStreamError.html" title="Fox::FXStreamError (class)">FXStreamError</a></span></span><span class='period'>.</span><span class='id identifier rubyid_makeStreamError'><span class='object_link'><a href="FXStreamError.html#makeStreamError-class_method" title="Fox::FXStreamError.makeStreamError (method)">makeStreamError</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="giveBuffer-instance_method">
  
    #<strong>giveBuffer</strong>(buffer)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Give buffer (a string) to this stream, thus transferring ownership of the buffer from the caller to the stream object.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rdoc-sources/FXMemoryStream.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_giveBuffer'>giveBuffer</span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="open-instance_method">
  
    #<strong>open</strong>(save_or_load, data)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Open memory stream for reading or writing. Returns <code>true</code> if successful, <code>false</code> otherwise.</p>

<h4 id="label-Parameters-3A">Parameters:</h4>
<dl class="rdoc-list note-list"><dt><code>save_or_load</code>
<dd>
<p>access mode, either <code>FXStreamSave</code> or <code>FXStreamLoad</code> [Integer]</p>
</dd><dt><code>data</code>
<dd>
<p>memory buffer to be used for the stream, or <code>nil</code> if the stream object should allocate its own buffer [String]</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rdoc-sources/FXMemoryStream.rb', line 34</span>

<span class='kw'>def</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_save_or_load'>save_or_load</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="takeBuffer-instance_method">
  
    #<strong>takeBuffer</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Take buffer away from stream, thus transferring ownership of the buffer from the stream object to the caller. Returns a string containing the buffer contents.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rdoc-sources/FXMemoryStream.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_takeBuffer'>takeBuffer</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Jan  2 11:48:13 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.1.2).
</div>

    </div>
  </body>
</html>